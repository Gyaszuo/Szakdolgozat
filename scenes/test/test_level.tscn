[gd_scene load_steps=20 format=3 uid="uid://bade3llwvsvug"]

[ext_resource type="PackedScene" uid="uid://bolj1oiudlh54" path="res://scenes/entities/player/player.tscn" id="1_euepx"]
[ext_resource type="Script" uid="uid://m22v7grf8nus" path="res://scenes/test/test_level.gd" id="1_ipv86"]
[ext_resource type="Texture2D" uid="uid://c1i527xpg88b2" path="res://scenes/test/texture_07.png" id="2_spoc0"]
[ext_resource type="PackedScene" uid="uid://bni2noqq6djn6" path="res://scenes/test/test_enemy.tscn" id="3_fn47k"]
[ext_resource type="PackedScene" uid="uid://wff5cdgwbvj3" path="res://scenes/objects/collectibles/key.tscn" id="5_llyy7"]
[ext_resource type="PackedScene" uid="uid://6r51oodsmn1p" path="res://scenes/objects/BreakableWall.tscn" id="5_rnfgp"]
[ext_resource type="PackedScene" uid="uid://bln72krdh4ej3" path="res://scenes/objects/activators/PermPressurePlate.tscn" id="6_mr7is"]
[ext_resource type="PackedScene" uid="uid://drx6p0ym787qq" path="res://scenes/objects/activators/TempPressurePlate.tscn" id="7_aq6h5"]
[ext_resource type="PackedScene" uid="uid://ckh1m7p7ab37s" path="res://scenes/objects/activators/HeavyPressurePlate.tscn" id="8_rk3gu"]
[ext_resource type="PackedScene" uid="uid://dit6nuictyh6y" path="res://scenes/objects/Box.tscn" id="9_uf6c7"]
[ext_resource type="PackedScene" uid="uid://dqv7uxds8j5" path="res://scenes/objects/activatables/Door.tscn" id="10_k1k2k"]
[ext_resource type="PackedScene" uid="uid://dpbvqt4mxety1" path="res://scenes/objects/activators/Lock.tscn" id="11_hsfnj"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_euepx"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_spoc0"]
sky_material = SubResource("ProceduralSkyMaterial_euepx")

[sub_resource type="Environment" id="Environment_fn47k"]
background_mode = 2
sky = SubResource("Sky_spoc0")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fn47k"]
albedo_texture = ExtResource("2_spoc0")
uv1_scale = Vector3(10, 10, 10)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_euepx"]
data = PackedVector3Array(-0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_spoc0"]
data = PackedVector3Array(-0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_spoc0"]
albedo_texture = ExtResource("2_spoc0")
uv1_scale = Vector3(4, 4, 4)

[node name="TestLevel" type="Node3D" node_paths=PackedStringArray("player", "hook_group")]
script = ExtResource("1_ipv86")
player = NodePath("Entities/Player")
hook_group = NodePath("Hooks")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_fn47k")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="Entities" type="Node3D" parent="."]

[node name="Player" parent="Entities" instance=ExtResource("1_euepx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5795575, 1.0500001, 1.8490039)

[node name="TestEnemy" parent="Entities" instance=ExtResource("3_fn47k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.477085, 1.0500004, 0)

[node name="Box" parent="Entities" instance=ExtResource("9_uf6c7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.6995115, 3.0925434, 6.816755)

[node name="Hooks" type="Node3D" parent="."]

[node name="Collectibles" type="Node3D" parent="."]

[node name="Key" parent="Collectibles" instance=ExtResource("5_llyy7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.306526, 0.8000002, 0)

[node name="Key2" parent="Collectibles" instance=ExtResource("5_llyy7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.306526, 0.8000002, 3.4997454)

[node name="Objects" type="Node3D" parent="."]

[node name="BreakableWall" parent="Objects" instance=ExtResource("5_rnfgp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.05, -4.9432883)

[node name="PermPressurePlate" parent="Objects" node_paths=PackedStringArray("activatables") instance=ExtResource("6_mr7is")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1499999, 5.631119)
activatables = [NodePath("../Door")]

[node name="TempPressurePlate" parent="Objects" node_paths=PackedStringArray("activatables") instance=ExtResource("7_aq6h5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.7323222, 0.15000002, 5.8825397)
activatables = [NodePath("../Door")]

[node name="HeavyPressurePlate" parent="Objects" node_paths=PackedStringArray("activatables") instance=ExtResource("8_rk3gu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.34654, 0.1499999, 6.0951796)
activatables = [NodePath("../Door")]

[node name="Door" parent="Objects" node_paths=PackedStringArray("activators") instance=ExtResource("10_k1k2k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.1695337, 0.05, -3.8661747)
activators = [NodePath("../TempPressurePlate"), NodePath("../HeavyPressurePlate"), NodePath("../PermPressurePlate"), NodePath("../Lock")]

[node name="Lock" parent="Objects" node_paths=PackedStringArray("activatables") instance=ExtResource("11_hsfnj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.913691, 0.988315, -3.633063)
activatables = [NodePath("../Door")]

[node name="LevelGeometry" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="LevelGeometry"]
transform = Transform3D(20, 0, 0, 0, 0.1, 0, 0, 0, 20, 0, 0, 0)
material = SubResource("StandardMaterial3D_fn47k")

[node name="StaticBody3D" type="StaticBody3D" parent="LevelGeometry/Floor"]

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/Floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_euepx")

[node name="CSGBox3D" type="CSGBox3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 2.0070424, 0, 0, 0, 7.9588923, -6.1379642, 1.0535214, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="LevelGeometry/CSGBox3D"]

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/CSGBox3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_spoc0")

[node name="CSGBox3D2" type="CSGBox3D" parent="LevelGeometry"]
transform = Transform3D(1, 0, 0, 0, 6.7551513, 0, 0, 0, 7.9588923, -7.1379642, 3.4275756, 0)
material = SubResource("StandardMaterial3D_spoc0")

[node name="StaticBody3D" type="StaticBody3D" parent="LevelGeometry/CSGBox3D2"]

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="LevelGeometry/CSGBox3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_spoc0")
